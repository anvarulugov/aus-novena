!function(){"use strict";var e,t,n,o={2118:function(e,t,n){function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function u(e,t){return u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},u(e,t)}function l(e,t){if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return s(e)}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}n.d(t,{Z:function(){return g}});var f=window.wp,p=f.element.Component,y=f.i18n.__,b=f.keycodes,m=b.BACKSPACE,h=b.DELETE,v=b.F10,g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(p,e);var t,n,o,r,c=(o=p,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=d(o);if(r){var n=d(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return l(this,e)});function p(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),(t=c.call(this,e)).initialize=t.initialize.bind(s(t)),t.onSetup=t.onSetup.bind(s(t)),t.focus=t.focus.bind(s(t)),t}return t=p,(n=[{key:"componentDidMount",value:function(){var e=window.wpEditorL10n.tinymce,t=e.baseURL,n=e.suffix;window.tinymce.EditorManager.overrideDefaults({base_url:t,suffix:n}),"complete"===document.readyState?this.initialize():document.addEventListener("readystatechange",this.initialize)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.content,o=t.onChange;e.content!==n&&o(n||"")}},{key:"componentWillUnmount",value:function(){document.removeEventListener("readystatechange",this.initialize),f.oldEditor.remove("editor-".concat(this.props.editorId))}},{key:"onSetup",value:function(e){var t,n=this,o=this.props,r=o.content,i=o.onChange,c=this.ref;this.editor=e,r&&e.on("loadContent",(function(){return e.setContent(r)})),e.on("blur",(function(){return t=e.selection.getBookmark(2,!0),i(e.getContent()),e.once("focus",(function(){t&&e.selection.moveToBookmark(t)})),!1})),e.on("change",(function(){i(e.getContent())})),e.on("mousedown touchstart",(function(){t=null})),e.on("keydown",(function(t){t.keyCode!==m&&t.keyCode!==h||!function(e){var t=e.getBody();return!(1<t.childNodes.length)&&(0===t.childNodes.length||!(1<t.childNodes[0].childNodes.length)&&/^\n?$/.test(t.innerText||t.textContent))}(e)||(n.props.onReplace([]),t.preventDefault(),t.stopImmediatePropagation()),t.altKey&&t.keyCode===v&&t.stopPropagation()})),e.on("init",(function(){e.settings.toolbar1&&-1===e.settings.toolbar1.indexOf("kitchensink")&&e.dom.addClass(c,"has-advanced-toolbar")})),e.addButton("wp_add_media",{tooltip:y("Insert Media","lazy-blocks"),icon:"dashicon dashicons-admin-media",cmd:"WP_Medialib"}),e.on("init",(function(){var e=n.editor.getBody();document.activeElement===e&&(e.blur(),n.editor.focus())}))}},{key:"onToolbarKeyDown",value:function(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()}},{key:"focus",value:function(){this.editor&&this.editor.focus()}},{key:"initialize",value:function(){var e=this.props.editorId,t=window.wpEditorL10n.tinymce.settings;f.oldEditor.initialize("editor-".concat(e),{tinymce:i(i({},t),{},{inline:!0,content_css:!1,fixed_toolbar_container:"#toolbar-".concat(e),setup:this.onSetup})})}},{key:"render",value:function(){var e=this,t=this.props.editorId;return[f.element.createElement("div",{key:"toolbar",id:"toolbar-".concat(t),ref:function(t){e.ref=t},className:"block-library-classic__toolbar",onClick:this.focus,"data-placeholder":y("Classic","lazy-blocks"),onKeyDown:this.onToolbarKeyDown}),f.element.createElement("div",{key:"editor",id:"editor-".concat(t),className:"block-library-rich-text__tinymce"})]}}])&&a(t.prototype,n),p}(p)}},r={};function i(e){var t=r[e];if(void 0!==t)return t.exports;var n=r[e]={exports:{}};return o[e](n,n.exports,i),n.exports}i.d=function(e,t){for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},e=i(2118),t=wp.hooks.addFilter,n=wp.components.BaseControl,t("lzb.editor.control.classic_editor.render","lzb.editor",(function(t,o,r){return wp.element.createElement(n,{key:o.data.name,label:o.data.label,help:o.data.help,className:"lzb-gutenberg-classic-editor"},wp.element.createElement(e.Z,{content:o.getValue(),onChange:function(e){o.onChange(e)},editorId:o.placement+r.clientId+o.uniqueId+(o.childIndex||0)}))}))}();